# 更新日志

## [v1.1.1] 2025.01.05

- feat: 新增重新加载模型测试用例
- feat: 新增解析模型测试用例
- feat: 节点模型新增基础信息克隆方法
- fix: 修复节点跳转归档子节点逻辑
- opt: 优化实例模型缓存加载逻辑
- opt: 优化抄送任务并行分支执行逻辑
- opt: 计算时间差至少设置为0优化

## [v1.1.0] 2024.12.25

- feat: 完善协议申明文档说明
- fix: 修复抄送后连续创建任务bug
- opt: 修改枚举 TaskType 命名解决 swagger set 类型识别异常
- opt: 优化或签任务参与者归档无法区分处理人weight标记为1
- opt: 其它代码优化

## [v1.0.9] 2024.12.18

- feat: 新增支持根据businessKey查询实例列表方法
- feat: 新增动态获取下一个节点方法
- feat: 新增模型结束节点判断处理逻辑
- feat: 新增自动完成任务创建人允许参数传入且定时任务允许子类重写
- opt: 优化模型序列化json排除非空属性缩小模型字符体积
- opt: 优化流程实例记录最终结束节点位置
- opt: 优化执行到抄送任务继续执行可能存在的子节点
- fix: 级联删除指定流程实例的所有数据无实例Bug修复
- feat: 创建 task 设置 actionUrl

## [v1.0.8] 2024.12.08

- feat: 创建 task 设置 actionUrl
- feat: 支持驳回策略
- feat: 支持驳回重新审批策略
- feat: 支持 NodeModel setType 添加设置指定候选人类型
- feat: 新增 TaskEventType reApproveJump 事件
- feat: 新增判断是否为路由节点方法
- opt: 优化执行任务后续处理逻辑
- opt: 优化审批或主办节点提取判断方法
- opt: 优化默认允许无参数判断条件分支
- opt: 优化模型清理父节点逻辑
- opt: 优化重新加载模型由业务决定是否清理父节点

## [v1.0.7] 2024.12.01

- feat: 新增离职转办
- feat: 新增模型转换测试
- opt: 优化路由分支新增测试用例
- opt: 优化跳转找到父审批节点
- opt: 根据实例删除数据调整
- fix: 修复包容分支模型转换异常
- fix: 修复无参表单式兼容判断
- fix: gitee issues/IB6GKU

## [v1.0.6] 2024.11.22

- feat: 修改为 apache 2.0 协议开源
- feat: 新增支持路由分支
- feat: 新增支持可视化配置驳回策略
- feat: 支持可视化自选候选人角色部门等
- feat: 支持可指定节点驳回跳转
- feat: 支持结束流程历史任务唤醒
- feat: 支持根据实例ID删除任务实例相关表记录
- feat: 支持获取当前已使用的节点key列表
- feat: 新增task同步监听注释说明
- feat: 新增根据流程实例ID更新流程全局变量方法
- opt: 调整保存任务参与者优先以数据库为准
- opt: 优化更新流程全局变量方法
- opt: 优化自定义CreateTaskHandler控制任务创建属性设置
- opt: 优化优化转办，委派 分配默认强制分配
- opt: 优化增加超时自动审批功能
- opt: 优化pom文件引入依赖配置
- fix: 修复流程撤回唤醒bug
- fix: 修复角色顺序签bug
- fix: 修复TaskState.get 使用Optional取值代码使用有问题，会造成空指针异常

## [v1.0.5] 2024.10.27

- 支持自定义解决无任务参与者情况
- 跳转任务限定约束只允许为发起节点和审批节点
- 流程监听实例任务通知事件类型分离
- 数据传递完成参数使用进行清理
- 调整 mysql 脚本字段类型完善
- 新增自动认领测试用例
- 新增 solon 适配示例


## [v1.0.4] 2024.10.09

- 记录区分撤回拿回撤回任务
- 审批提醒去除推荐使用任务监听处理
- 其它代码优化

## [v1.0.3] 2024.09.16

- 任务发起抄送兼容自增ID主键一致性情况
- 优化并行分支支持并行子流程
- 扩展流程实例实体类冗余流程名称
- 新增根据实例ID查询流程扩展实例信息方法
- 其它代码优化

## [v1.0.2] 2024.09.08

- 新增支持子流程任意节点唤醒父流程执行
- 优化子流程新增尾节点测试用例
- 合并编译脚本配置
- issue 解决自增 ID 主键冲突问题
- 其它代码优化

## [v1.0.1] 2024.09.01

- 新增模拟角色直接分配处理人并自动完成
- 新增支持执行任务中动态指定后续节点处理人
- 优化细分角色认领部门认领
- 修复发布抄送事件后查询不到抄送人员
- 修复自选处理人的时, 在发起审批线程没有重新渲染逻辑节点parentNode
- 修改测试用例修改认领部分逻辑

## [v1.0.0] 2024.08.21

- 优化包容分支支持完成
- 优化并行任务拿回任务判断逻辑
- 修复自动执行触发器相关 bug
- 发起人通知任务ID记录
- 指定的条件节点不存在时，还能接着使用表达式计算
- 完善单元测试断言错误修复
- 优化唤醒历史任务时从历史任务中恢复对应的历史任务参与者列表

## [v0.0.11] 2024.08.01

- 新增包容分支支持逻辑
- 优化并行分支逻辑
- 代理类型区分代理人还是认领角色部门
- NodeAssignee 新增 extendConfig 扩展属性
- 修复强制完成所有任务bug
- 修复afterDoneTask方法，会签获取流程任务list时使用taskName获取任务列表
- JSON BPM 节点 添加超时自动审批
- 流程实例监听启动修改为 start 事件
- 审批结束 流程实例监听器通知 EventType.end
- ModelHelper 新增 getRootNodeAllChildNodes 方法合并、获取动态分配处理人
- 调整脚本代理相关字段非必填

## [v0.0.10] 2024.07.16

- 优化触发器立即执行逻辑
- 新增流程类型枚举类
- 流程实例扩展新增流程类型字段标记
- 新增 JSON BPM 节点表单时条件类型
- 新增验证模型发起角色配置
- 调整 maven 依赖相关配置
- 修复倒序获取最新版本流程信息
- 任务参与者新增代理人ID类型及扩展JSON字段
- 新增角色部门会签或签票签相关测试用例
- 优化任务代理执行逻辑
- 其它代码优化

## [v0.0.9] 2024.07.07

- 模型新增审批类型属性
- 开放获取所有节点方法，新增生成时间戳节点KEY
- 新增生成时间戳节点KEY
- 主流程监听节点追加子流程实例ID
- 兼容args为Null情况
- 新增不允许拿回逻辑判断
- 修复委派任务设置bug
- 解耦 orm 层为 jpa 支持准备
- 优化参与者减签逻辑
- 依次审批新增注释说明
- 优化触发器相关逻辑

## [v0.0.8] 2024.06.20

- 优化任务为发起人自己自动自动跳过逻辑
- 新增流程历史版本注释
- 优化部署逻辑支持保存回调函数参数
- 优化流程定义归档历史
- 优化流程定义部署逻辑
- 不允许历史状态流程部署
- 优化根据流程KEY获取流程逻辑
- 模型新增历史审批类型
- 优化枚举类判断逻辑支持Null情况
- 添加延时处理类型
- 优化子流程任务通知监听
- 优化强制完成流程支持子流程
- 优化条件节点处理新增支持KEY选择条件分支

## [v0.0.7] 2024.06.06

- 会签直接驳回任务问题修复
- 会签多次操作撤回历史出现多任务问题修复
- 修改为 nodeKey 为节点唯一条件
- 新增获取所有未设置处理人员节点方法
- 新增配置支持 github action 版本自动发布
- 其它优化完善

## [v0.0.6] 2024.05.20

- 支持并行分支执行节点
- 新增唯一节点 nodeKey 允许节点名称重复
- 调整任务实例表结构优化

```
1，模型新增 nodeKey 替代 nodeName 唯一条件，任务 displayName 修改为 taskKey
2，流程实例 currentNode 分为 currentNodeName  currentNodeKey
```

- 增加枚举参与者类型
- 优化换成允许过期时间设置
- 优化任务节点审批人列表
- 优化发起处理人逻辑

## [v0.0.5] 2024.05.12

- 新增定时器任务
- 新增触发器任务
- 新增任务提醒
- 新增oracle支持脚本
- 新增创建任务拦截处理器
- 新增模型自定义外置表单扩展
- 优化自动审批通过或拒绝

## [v0.0.4] 2024.05.08

- 节点跳转任务支持添加参数
- 优化审核分配到任务的处理者，通过 setType 区分个人角色或部门等，节点属性修改为 nodeAssigneeList
- 新增驳回至起始节点测试用例
- 新增代理能力，定时器任务，触发器任务
- 允许自定义指定合法参与者对象，可自定义接口扩展自定义判断合法参与者
- 新增活动任务参与者列表查询optional方法
- 新增自动完成拒绝任务功能
- 新增模型校验必须存在审批节点
- 新增动态构建执行新任务（不体现在流程图中）
- 优化完善定时自动审批超时等处理逻辑

## [v0.0.3] 2024.04.21

- 执行节点调整父任务节点记录携带优化
- 任务参与类型未知去除兼容不设置情况默认循序执行
- 新增测试加签节点存在多人时，当其中一人驳回异常问题
- 发起任务事件独立状态区分
- 修复会签节点驳回 Bug
- 其它代码优化

## [v0.0.2] 2024.04.18

- 新增节点条件参数处理器
- 处理器支持@Component注入
- 增加结束节点&测试
- 模型节点新增控制属性
- 新增会签支持加减签功能
- 新增状态区分任务驳回结束
- 优化缓存允许自定义注入流程模型解析器
- 优化允许注入json解析处理器
- 测试用例增加事务
- 增加 重新部署流程 的测试用例
- 优化初始赋值

## [v0.0.1] 2024.04.01

- 发布创始版