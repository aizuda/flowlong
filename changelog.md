# 更新日志

## [v1.1.16] 2025.08.17

- feat: 新增支持最大任务提醒次数
- feat: 新增任务参与者实体类转换为流程创建者方法
- feat: 新增任务分配事件拆分为代理委派转办事件
- feat: 新增模型判断检测指定成员审批（未配置处理人员）节点信息
- opt: 执行任务支持归档参数至历史任务
- opt: SQL脚本字段注释内容补充
- fixed: 修复超时自动审批设置为自动结束时不触发事件问题

## [v1.1.15] 2025.07.22

- feat: 新增 角色、部门 审批策略支持认领全部人员参与审批两种模式
- fixed: 修复多角色部门认领审批提前结束问题
- opt: 优化执行器去除动态提供审批参与者缓存
- opt: 优化解决 FlwHisTask setTaskState 序列化问题
- opt: 优化完善其它注释说明

## [v1.1.14] 2025.07.15

- feat: 支持驳回遇到触发器定时器抄送自动回到上一级继续驳回
- feat: 新增获取当前节点父条件节点所有子节点key列表方法
- opt: 优化允许指定节点非驳回结束流程唤醒
- opt: 优化流程作废新增实例判断计算时间参考设置
- opt: 优化动态参与者处理合并到执行对象
- opt: 优化清理动态提供审批参与者信息
- opt: 优化模型节点判断新增抄送配置校验
- opt: 优化驳回跳转并行子节点归档逻辑
- opt: 优化主管、角色、部门顺序审批
- opt: 优化主管顺序审批测试用例
- opt: 优化spel包含不包含表达式
- fixed: 修复抄送空条件分支不存在子节点异常问题

## [v1.1.13] 2025.07.08

- feat: 新增支持提示可配置延迟时间
- feat: 新增流程实例激活操作
- opt: 优化支持连续抄送任务执行
- opt: 优化执行跳转任务结束去除通知
- opt: 优化流程实例挂起不允许子流程操作
- opt: 优化流程作废计算耗时结束时间
- opt: 优化更新任务条件
- opt: 优化超时审批配置
- fixed: 修复自动完成会签归档问题
- fixed: 修复立即执行触发器任务异常问题
- fixed: 修复抄送在并行分支后流程无法执行结束问题
- fixed: 修复并行包容分支获取所有子节点不全问题
- fixed: 修复连续跳过存在会签异常问题

## [v1.1.12] 2025.07.01

- feat: 新增触发器暂存功能
- feat: 新增支持唤醒指定nodeKey的历史任务
- opt: 优化路由节点判断逻辑
- opt: 优化已阅传参
- opt: 优化路由节点校验支持无条件继续执行
- opt: 优化去除 PG 数据库默认 public 模式条件
- fixed: 修复驳回发起人撤回限制条件错误

## [v1.1.11] 2025.06.19

- feat: 新增流程实例自动完成自动拒绝事件监听
- feat: 新增触发器支持异步调用完成函数
- feat: 新增监听节点模型null注释说明
- opt: 优化允许执行到任意位置强制撤回
- opt: 优化支持超时且提醒同时存在情况定时处理
- opt: 优化归档实例历史属性
- opt: 优化浏览文件任务加签只通知增量参与者
- fixed: 修复无法参数再次合并参数bug

## [v1.1.10] 2025.06.10

- feat: 新增流程实例作废方法
- feat: 新增任务手动修改指定为参与者方法
- feat: 新增流程模型extendConfig扩展配置属性
- opt: 优化完善任务加签逻辑
- opt: 优化条件节点处理器新增错误配置断言
- opt: 优化路由节点支持默认无条件路由
- opt: 优化并行分支包容分支驳回分支任务自动结束
- opt: 优化并行分支修改为条件节点模型
- opt: 优化减签逻辑支持监听通知减签参与者
- opt: 优化拒绝终止支持传递参数变量
- opt: 优化强制完成任务当前任务监听通知
- fixed: 修复多次委派未正确归还到首次委派人问题
- fixed: 修复驳回票签其它任务未回收问题
- fixed: 修复FlwTask.putAllVariable变量合并BUG
- fixed: 修复驳回父节点可能不存在情况

## [v1.1.9] 2025.05.10

- feat: 新增支持异步子流程
- feat: 新增支持父节点为并行分支或包容分支同步驳回
- feat: 新增支持唤醒撤回或拒绝终止历史任务
- opt: 优化（自动完成、自动拒绝）节点事件监听
- opt: 优化跳转设置委托人为当前参与者
- opt: 优化下一个执行节点结束逻辑
- opt: 优化动态获取下一个节点
- opt: 优化支持驳回跳过子流程重启
- fixed: 异步子流程结束主流程审批任务异常
- fixed: issues/IC5U5U

## [v1.1.8] 2025.05.02

- feat: 新增支持异步子流程
- feat: 新增流程实例挂起暂停状态
- feat: 新增根据流程实例ID获取开始任务对象
- feat: 新增任务跳转子节点归档任务监听
- feat: 新增驳回到模型父节点驳回策略
- feat: 新增检测模型路由节点必须配置错误（未配置路由分支）
- feat: 新增测试获取根节点下的所有节点模型
- fix: 修复路由节点子节点为条件节点情况bug
- opt: 优化修改表达式接口类命名避免与其它框架注入冲突
- opt: 优化Spel条件表单式默认支持包含不包含关系
- opt: 优化流程实例终止监听事件细分为驳回撤销超时强制事件
- opt: 优化分配认证新增任务变量追加参数
- opt: 优化调整或签不归档未审批参与者
- opt: 优化新增模型子流程配置错误判断

## [v1.1.7] 2025.04.21

- feat: 新增执行跳转任务归档设置执行参数
- feat: 新增获取已执行节点测试用例
- opt: 优化获取当前已使用的节点key列表
- opt: 优化获取上一个节点调整为只返回审批节点
- opt: 优化FlwInstance类的variableToMap方法返回可修改Map

## [v1.1.6] 2025.04.05

- feat: 新增支持流程暂存待审功能
- feat: 新增驳回支持终止审批流程策略
- feat: 新增构建流程模型方法
- opt: 优化自定义ID获取兼容用户预设置ID值
- opt: 优化自定义ID生成器类名及初始化避免与其它框架冲突
- opt: 优化创建抄送任务通知区分手动抄送和自动抄送时事件
- opt: 优化多次委托新增委托任务测试用例

## [v1.1.5] 2025.03.30

- feat: 新增支持自定义 id 生成器
- feat: 新增支持审批节点手动创建抄送任务
- feat: 新增支持自动通过自动结束流程
- feat: 新增模型自动审批节点配置验证
- feat: 新增支持无配置触发器执行
- feat: 新增流程实例抄送任务参与者列表查询
- feat: 新增路由跳转测试用例
- feat: 新增测试提醒延迟时间
- feat: 新增连续默认分支跳过测试用例
- feat: 新增错误后缀审批节点模型测试用例
- opt: 优化增加抄送任务识别能力标记weight为6
- opt: 优化支持触发器结束流程
- opt: 优化任务提醒

## [v1.1.4] 2025.03.15

- feat: 新增支持驳回重新审批策略重新发起创建事件
- feat: 新增细分跳转归档历史状态
- feat: 新增重新发起通知事件
- feat: 执行跳转支持动态重新设置节点参与者
- opt: 修改 PerformType 枚举 set 避免序列化异常
- opt: 修复 跳转任务，没有把当前任务迁移到历史表
- opt: 增加核心逻辑的扩展性
- opt: 条件节点不存在情况判断

## [v1.1.3] 2025.03.03

- feat: 新增开启流程实例监听属性
- feat: 新增任务监听传递参与者参数
- opt: 优化本地锁防止多次实例化
- opt: 优化FlwTaskActor中的是否为代理人方法
- opt: 优化统一参数命名

## [v1.1.2] 2025.01.16

- feat: 新增支持banner打印
- feat: 新增支持业务实现重定义任务参与者类型
- feat: 新增执行节点跳转任务更新实例当前节点信息
- opt: 优化驳回跳转处理重新审批策略
- opt: 优化统一涉及参与者注释说明

## [v1.1.1] 2025.01.05

- feat: 新增重新加载模型测试用例
- feat: 新增解析模型测试用例
- feat: 节点模型新增基础信息克隆方法
- fix: 修复节点跳转归档子节点逻辑
- opt: 优化实例模型缓存加载逻辑
- opt: 优化抄送任务并行分支执行逻辑
- opt: 计算时间差至少设置为0优化

## [v1.1.0] 2024.12.25

- feat: 完善协议申明文档说明
- fix: 修复抄送后连续创建任务bug
- opt: 修改枚举 TaskType 命名解决 swagger set 类型识别异常
- opt: 优化或签任务参与者归档无法区分处理人weight标记为1
- opt: 其它代码优化

## [v1.0.9] 2024.12.18

- feat: 新增支持根据businessKey查询实例列表方法
- feat: 新增动态获取下一个节点方法
- feat: 新增模型结束节点判断处理逻辑
- feat: 新增自动完成任务创建人允许参数传入且定时任务允许子类重写
- opt: 优化模型序列化json排除非空属性缩小模型字符体积
- opt: 优化流程实例记录最终结束节点位置
- opt: 优化执行到抄送任务继续执行可能存在的子节点
- fix: 级联删除指定流程实例的所有数据无实例Bug修复
- feat: 创建 task 设置 actionUrl

## [v1.0.8] 2024.12.08

- feat: 创建 task 设置 actionUrl
- feat: 支持驳回策略
- feat: 支持驳回重新审批策略
- feat: 支持 NodeModel setType 添加设置指定候选人类型
- feat: 新增 TaskEventType reApproveJump 事件
- feat: 新增判断是否为路由节点方法
- opt: 优化执行任务后续处理逻辑
- opt: 优化审批或主办节点提取判断方法
- opt: 优化默认允许无参数判断条件分支
- opt: 优化模型清理父节点逻辑
- opt: 优化重新加载模型由业务决定是否清理父节点

## [v1.0.7] 2024.12.01

- feat: 新增离职转办
- feat: 新增模型转换测试
- opt: 优化路由分支新增测试用例
- opt: 优化跳转找到父审批节点
- opt: 根据实例删除数据调整
- fix: 修复包容分支模型转换异常
- fix: 修复无参表单式兼容判断
- fix: gitee issues/IB6GKU

## [v1.0.6] 2024.11.22

- feat: 修改为 apache 2.0 协议开源
- feat: 新增支持路由分支
- feat: 新增支持可视化配置驳回策略
- feat: 支持可视化自选候选人角色部门等
- feat: 支持可指定节点驳回跳转
- feat: 支持结束流程历史任务唤醒
- feat: 支持根据实例ID删除任务实例相关表记录
- feat: 支持获取当前已使用的节点key列表
- feat: 新增task同步监听注释说明
- feat: 新增根据流程实例ID更新流程全局变量方法
- opt: 调整保存任务参与者优先以数据库为准
- opt: 优化更新流程全局变量方法
- opt: 优化自定义CreateTaskHandler控制任务创建属性设置
- opt: 优化优化转办，委派 分配默认强制分配
- opt: 优化增加超时自动审批功能
- opt: 优化pom文件引入依赖配置
- fix: 修复流程撤回唤醒bug
- fix: 修复角色顺序签bug
- fix: 修复TaskState.get 使用Optional取值代码使用有问题，会造成空指针异常

## [v1.0.5] 2024.10.27

- 支持自定义解决无任务参与者情况
- 跳转任务限定约束只允许为发起节点和审批节点
- 流程监听实例任务通知事件类型分离
- 数据传递完成参数使用进行清理
- 调整 mysql 脚本字段类型完善
- 新增自动认领测试用例
- 新增 solon 适配示例


## [v1.0.4] 2024.10.09

- 记录区分撤回拿回撤回任务
- 审批提醒去除推荐使用任务监听处理
- 其它代码优化

## [v1.0.3] 2024.09.16

- 任务发起抄送兼容自增ID主键一致性情况
- 优化并行分支支持并行子流程
- 扩展流程实例实体类冗余流程名称
- 新增根据实例ID查询流程扩展实例信息方法
- 其它代码优化

## [v1.0.2] 2024.09.08

- 新增支持子流程任意节点唤醒父流程执行
- 优化子流程新增尾节点测试用例
- 合并编译脚本配置
- issue 解决自增 ID 主键冲突问题
- 其它代码优化

## [v1.0.1] 2024.09.01

- 新增模拟角色直接分配处理人并自动完成
- 新增支持执行任务中动态指定后续节点处理人
- 优化细分角色认领部门认领
- 修复发布抄送事件后查询不到抄送人员
- 修复自选处理人的时, 在发起审批线程没有重新渲染逻辑节点parentNode
- 修改测试用例修改认领部分逻辑

## [v1.0.0] 2024.08.21

- 优化包容分支支持完成
- 优化并行任务拿回任务判断逻辑
- 修复自动执行触发器相关 bug
- 发起人通知任务ID记录
- 指定的条件节点不存在时，还能接着使用表达式计算
- 完善单元测试断言错误修复
- 优化唤醒历史任务时从历史任务中恢复对应的历史任务参与者列表

## [v0.0.11] 2024.08.01

- 新增包容分支支持逻辑
- 优化并行分支逻辑
- 代理类型区分代理人还是认领角色部门
- NodeAssignee 新增 extendConfig 扩展属性
- 修复强制完成所有任务bug
- 修复afterDoneTask方法，会签获取流程任务list时使用taskName获取任务列表
- JSON BPM 节点 添加超时自动审批
- 流程实例监听启动修改为 start 事件
- 审批结束 流程实例监听器通知 EventType.end
- ModelHelper 新增 getRootNodeAllChildNodes 方法合并、获取动态分配处理人
- 调整脚本代理相关字段非必填

## [v0.0.10] 2024.07.16

- 优化触发器立即执行逻辑
- 新增流程类型枚举类
- 流程实例扩展新增流程类型字段标记
- 新增 JSON BPM 节点表单时条件类型
- 新增验证模型发起角色配置
- 调整 maven 依赖相关配置
- 修复倒序获取最新版本流程信息
- 任务参与者新增代理人ID类型及扩展JSON字段
- 新增角色部门会签或签票签相关测试用例
- 优化任务代理执行逻辑
- 其它代码优化

## [v0.0.9] 2024.07.07

- 模型新增审批类型属性
- 开放获取所有节点方法，新增生成时间戳节点KEY
- 新增生成时间戳节点KEY
- 主流程监听节点追加子流程实例ID
- 兼容args为Null情况
- 新增不允许拿回逻辑判断
- 修复委派任务设置bug
- 解耦 orm 层为 jpa 支持准备
- 优化参与者减签逻辑
- 依次审批新增注释说明
- 优化触发器相关逻辑

## [v0.0.8] 2024.06.20

- 优化任务为发起人自己自动自动跳过逻辑
- 新增流程历史版本注释
- 优化部署逻辑支持保存回调函数参数
- 优化流程定义归档历史
- 优化流程定义部署逻辑
- 不允许历史状态流程部署
- 优化根据流程KEY获取流程逻辑
- 模型新增历史审批类型
- 优化枚举类判断逻辑支持Null情况
- 添加延时处理类型
- 优化子流程任务通知监听
- 优化强制完成流程支持子流程
- 优化条件节点处理新增支持KEY选择条件分支

## [v0.0.7] 2024.06.06

- 会签直接驳回任务问题修复
- 会签多次操作撤回历史出现多任务问题修复
- 修改为 nodeKey 为节点唯一条件
- 新增获取所有未设置处理人员节点方法
- 新增配置支持 github action 版本自动发布
- 其它优化完善

## [v0.0.6] 2024.05.20

- 支持并行分支执行节点
- 新增唯一节点 nodeKey 允许节点名称重复
- 调整任务实例表结构优化

```
1，模型新增 nodeKey 替代 nodeName 唯一条件，任务 displayName 修改为 taskKey
2，流程实例 currentNode 分为 currentNodeName  currentNodeKey
```

- 增加枚举参与者类型
- 优化换成允许过期时间设置
- 优化任务节点审批人列表
- 优化发起处理人逻辑

## [v0.0.5] 2024.05.12

- 新增定时器任务
- 新增触发器任务
- 新增任务提醒
- 新增oracle支持脚本
- 新增创建任务拦截处理器
- 新增模型自定义外置表单扩展
- 优化自动审批通过或拒绝

## [v0.0.4] 2024.05.08

- 节点跳转任务支持添加参数
- 优化审核分配到任务的处理者，通过 setType 区分个人角色或部门等，节点属性修改为 nodeAssigneeList
- 新增驳回至起始节点测试用例
- 新增代理能力，定时器任务，触发器任务
- 允许自定义指定合法参与者对象，可自定义接口扩展自定义判断合法参与者
- 新增活动任务参与者列表查询optional方法
- 新增自动完成拒绝任务功能
- 新增模型校验必须存在审批节点
- 新增动态构建执行新任务（不体现在流程图中）
- 优化完善定时自动审批超时等处理逻辑

## [v0.0.3] 2024.04.21

- 执行节点调整父任务节点记录携带优化
- 任务参与类型未知去除兼容不设置情况默认循序执行
- 新增测试加签节点存在多人时，当其中一人驳回异常问题
- 发起任务事件独立状态区分
- 修复会签节点驳回 Bug
- 其它代码优化

## [v0.0.2] 2024.04.18

- 新增节点条件参数处理器
- 处理器支持@Component注入
- 增加结束节点&测试
- 模型节点新增控制属性
- 新增会签支持加减签功能
- 新增状态区分任务驳回结束
- 优化缓存允许自定义注入流程模型解析器
- 优化允许注入json解析处理器
- 测试用例增加事务
- 增加 重新部署流程 的测试用例
- 优化初始赋值

## [v0.0.1] 2024.04.01

- 发布创始版